<?php
require_once __DIR__ . '/ZatcaClient.php';

//onboarding data is a string varaible that should be stored in database, it is returned after Onboarding operation and stored to be used then for bill sending
//here is a sample onbording data as an example, but in general it  is not a constant, it is a string variabe stored in database
$onboardingData = "Fo1VSwAAAABAAQAATQBIAFEAQwBBAFEARQBFAEkAQQBYADIAOQAyAGIARAByAG0AcQBvAGkAZwB1AEkAcQBxAEkAcwA4ACsAQwBOAEUASABTAE8AUwBPAHIAUABoAGEAbAB0AE0AeQBlAGQAZQB4AFEARgBvAEEAYwBHAEIAUwB1AEIAQgBBAEEASwBvAFUAUQBEAFEAZwBBAEUAOABTAHIAMQBGAEUAeQBTAEUAQwBFAGQAeQBsADgAQQBLAEcAdgB4AGoAcwBuADkAZgAvADIAUgB1AG0ASAB2AGsAVABvAHAAZgBuAEYAQQB4AHgAdQBIAEcATAA5AFQAegBqAGkAWQBQAGUAMgB3AGkAdgBZAE8AbABGAEcANQBGAHoATgByAFAAMgBmAFcAaQB3AE0ASgBVAEgASgBQAG8AMQBBAFQARQBnAD0APQDwAAAATQBGAFkAdwBFAEEAWQBIAEsAbwBaAEkAegBqADAAQwBBAFEAWQBGAEsANABFAEUAQQBBAG8ARABRAGcAQQBFADgAUwByADEARgBFAHkAUwBFAEMARQBkAHkAbAA4AEEASwBHAHYAeABqAHMAbgA5AGYALwAyAFIAdQBtAEgAdgBrAFQAbwBwAGYAbgBGAEEAeAB4AHUASABHAEwAOQBUAHoAagBpAFkAUABlADIAdwBpAHYAWQBPAGwARgBHADUARgB6AE4AcgBQADIAZgBXAGkAdwBNAEoAVQBIAEoAUABvADEAQQBUAEUAZwA9AD0AIBIAAFQAVQBsAEoAUgBrAFoARQBRADAATgBDAFQARwAxAG4AUQBYAGQASgBRAGsARgBuAFMAVgBSAGwAUQBVAEYAQgBUAFYAWQAxAFQAVABnAHIAYgBYAEYAeABiAFUAUgBMAFcAWABkAEIAUQBrAEYAQgBRAFgAaABZAGEAawBGAEwAUQBtAGQAbgBjAFcAaAByAGEAawA5AFEAVQBWAEYARQBRAFcAcABDAGEAVQAxAFMAVgBYAGQARgBkADEAbABMAFEAMQBwAEoAYgBXAGwAYQBVAEgAbABNAFIAMQBGAEMAUgAxAEoAWgBSAG0ASgBIAE8AVwBwAFoAVgAzAGQANABSAFgAcABCAFUAawBKAG4AYgAwAHAAcgBhAFcARgBLAGEAeQA5AEoAYwAxAHAAQgBSAFYAcABHAFoAMAA1AHUAWQBqAE4AWgBlAEUAWgA2AFEAVgBaAEMAWgAyADkASwBhADIAbABoAFMAbQBzAHYAUwBYAE4AYQBRAFUAVgBhAFIAbQBkAGsAYgBHAFYASQBVAG0ANQBaAFcASABBAHcAVABWAEoAegBkADAAZABSAFcAVQBSAFcAVQBWAEYARQBSAFgAaABLAFUAVgBKAFcAYwBFAFoAVABWAFQAVgBYAFYARABCAHMAUgBGAEoAVwBUAGsAUgBSAFYARgBGADAAVQBUAEIARgBkADAAaABvAFkAMAA1AE4AYQBsAEYAMwBUAFYAUgBKAE4AVQAxAFUAUgBYAHAATgBSAEUARQB4AFYAMgBoAGoAVABrADEAcQBXAFgAZABOAFYARQBrADEAVABWAFIARgBNAEUAMQBFAFEAVABGAFgAYQBrAEkANABUAFYARgB6AGQAMABOAFIAVwBVAFIAVwBVAFYARgBIAFIAWABkAEsAVgBGAEYAVQBSAFMAdABOAFIASABkAEgAUQBUAEYAVgBSAFUATgBvAFQAVABGAFUAVwBGAFkAdwBXAFYAaABrAGMARgBwAHUAVABXAGQAYQBiAFQAbAA1AFMAVQBoAEMAYwBHAEoASABaAEgAbABoAFYAegBGADYAUwBVAGQAYQBlAFcASQB5AE0ARwBkAFoAVgAxAHAANQBZAFYAZABPAGEARwBKAHAAUQBuAFYAaQBNAGoAUgBuAFcAVgBoAEsAYQBGAGwAcABRAG0AcABpAE0AMQBaADEAWgBFAGgASwBjAEYAcABZAFQAWABoAEcAYQBrAEYAVgBRAG0AZABPAFYAawBKAEIAYwAxAFIARQBWAFQARgBvAFkAVABKADAAYQBHAEYARABRAG0AbABqAGIAVQBaADEAVwBUAEoAbgBlAEUAWgBVAFEAVgBSAEMAWgAwADUAVwBRAGsARgBOAFYARQBSAEYAUwBqAEYAaABWADMAaAByAFkAVgBjADEAYgBrADEANgBWAFgAcABPAFIARQBKAFgAVABVAEoAQgBSADAASgA1AGMAVQBkAFQAVABUAFEANQBRAFcAZABGAFIAMABKAFQAZABVAEoAQwBRAFUARgBMAFEAVABCAEoAUQBVAEoAUQBSAFgARQA1AFUAbABKAE4AYQAyAGgAQgBhAEUAaABqAGMARwBaAEIAUQAyAGgAeQBPAEYAawAzAFMAaQA5AFkATAB6AGwAcgBZAG4AQgBvAE4AegBWAEYATgBrAHQAWQBOAFgAaABSAFQAVwBOAGkAYQBIAGgAcABMADEAVQA0AE4ARABSAHQAUgBEAE4AMABjADAAbAB5AE0AawBSAHcAVQBsAEoAMQBVAG0ATgA2AFkAWABvADUAYgBqAEYAdgBjADAAUgBEAFYAawBKADUAVgBEAFoATwBVAFUAVgA0AFMAMgBwAG4AWgAwADAAeABUAFUAbABKAFIARQAxAFUAUQAwAEoAdQBkADEAbABFAFYAbABJAHcAVQBrAEoASgBSADEAaABOAFMAVQBkAFYAYwBFAGwASABVAGsAMQBKAFIAMAA5AE4AVQAxAGwAMwBTAGsARgBaAFIARgBaAFIAVQBVAFYARQBRAGoAQgA0AFQARgBWAEcAYwAyAEoAWABSAGoAWgBhAFYAMQBaAHIAWgBrAFIASgBkAEYAWgBxAFIAWABsAG0AUgBFADEAMABZAHoASgBOAGUARQA1AFUAVQBUAEIATgBlAGsAMQA2AFQAbQBwAEYAWgBrADEAQwBNAEUAZABEAFoAMgAxAFQAUwBtADkAdABWAEQAaABwAGUARwB0AEIAVQBVAFYATgBSAEgAcABOAGUARQAxAEUAUgBUAFIATwBhAGsAMAAxAFQAMABSAE4AZAAwADEARQBRAFgAZABOAGUAawBWAE8AVABVAEYAegBSADAARQB4AFYAVQBWAEUAUQBYAGQARgBUAFYAUgBGAGQAMAAxAEUAUgBXAGgATgBRAGoAaABIAFEAVABGAFYAUgBVAGQAbgBkADEAbABWAE0AagBrAHgAWQAxAE4AQwBRAG0ASgBEAFEAawBsAGEAVgAzAEIAbwBaAFcAbABDAFYARwBSAEQAZAAyAGQAVQBWADAAWgB5AFkAVABKAEcAYgAwADEAUwBSAFgAZABFAGQAMQBsAEUAVgBsAEYAUgBVAEUAUgBCAGEARgBGAGgAVgAzAGgAdQBZADIAMQBzAGQARwBOADYAUQBXAFIAQwBaADAANQBXAFMARgBFADAAUgBVAFoAbgBVAFYAVgAzAFcAVQBrAHIAWgBWAGwAawBRAFcAWgBSAFUASABkAHAASwAxAEoATQBVAGsAZABsAGEASABGAHoAVAAwAHgAYQBWAFUARgAzAFMASABkAFoAUgBGAFoAUwBNAEcAcABDAFEAbQBkADMAUgBtADkAQgBWAFgAZwA0AFIARwAxADAATgBtADUAawBSAFgATgB3AFUARgBCAFgATQBXADkAbgBjAEYAbABvAFUAbQBaAE4AUQBtAFIAaABVAFgAZABuAFoAVgBWAEgAUQBUAEYAVgBaAEUAaAAzAFUAMABJAHoAVgBFAE4AQwBNAG0AcABEAFEAagBFADIAUQAwAEkAeABTADAATgBDAE0ARgBsAGgAUQBuAHAAdABlAEcAdABaAFcARQBFADIAVABIAGsANABkAGwARQB3AE4ARABsAFYAUgBWAFoAaABVAGwAVgBzAFQAMQBaAHIATwBVAHAAUgBNAEYAWgBVAFUAVABCAEYATQBFAHgAVgBUAGsASgBMAFIARQBWAHcAVABFAFYATwBUADEAQgBXAFEAbABOAFgAYQAxAFoASwBWAEcAeABhAFUARgBOAFYAVABrAFoAVgBSAFgAUgBLAFQAawBOADQAUgBGAFIAcQBNAFUAUgBTAFIAawBGAHoAVQBUAEEAMABPAFYAVgBJAFYAbQBsAGkAUgAyAHgAcQBTAGwAUgBKAGQAMQBNAHkAVgBqAFYASwBWAEUAbAAzAFYAVABKAFcAZQBXAFIAdABiAEcAcABhAFcARQAxAHoAVQBUAEEAMABPAFYAVQB5AFYAbgBsAGsAYgBXAHgAcQBXAGwAaABOAGMAMQBFAHcATgBEAGwAUgBNAGoAbAAxAFcAbQAxAHMAYgBtAFIAWQBTAG0AaABrAFIAMgB4ADIAWQBtAGwANABSAFYARgA2AE0AVwB4AGwAUwBGAEkAMgBXAFYAaABTAGEAbABsAFQAZQBFAFYAUgBlAGoARgB1AFkAagBOAFoAYwAxAEoARgBUAFQAbABpAFIAegBsAHEAVwBWAGQAMwBMADEAawB5AFYAbgBsAGsAUgAyAHgAdABZAFYAZABPAGEARwBSAEgAVgBsAE4AYQBXAEYAcAAyAFcAVABKAEcATQBHAEYAWABPAFgAVgBVAFIAMgB4ADYAWgBFAFEANQBhAFYAbABZAFQAbQB4AFEATQBqAGwAcABZAFcAMQBXAGEAbQBSAEYAVABuAE4AWgBXAEUANQA2AFUARgBkAE8AVQAxAFIARgBVAG4AQgBqAE0AMQBKADUAWQBWAGQASwBNAFcAUgBIAGIASABaAGkAYgBFAEoAMgBZAFYAYwAxAE0ARQAxAEoAUwBFADkAQwBaADIAZAB5AFEAbQBkAEYAUgBrAEoAUgBZADAASgBCAFUAVgBOAEMAZAAxAFIARABRAG4AWgBxAFEAMABKADEAZAAxAGwASgBTADMAZABaAFEAawBKAFIAVgBVAGgATgBRAFUAdABIAFoAMgBFADEAYwAxAHAASABSAG4AZABQAGEAVABoADIAVABEAEIATwBUADEAQgBXAFEAawBaAFgAYQAxAFoASwBWAEcAeABhAFUARgBOAFYAVABrAFoAVgBNAEUANQBDAFQAawBNAHgAUgBGAEYAVABlAEUAUgBVAGEAagBGAEMAVQAxAFYARgBjADEARQB3AE4ARABsAFYAUwBGAFoAcABZAGsAZABzAGEAawBwAFUAUwBYAGQAVABNAGwAWQAxAFMAbABSAEoAZAAxAFUAeQBWAG4AbABrAGIAVwB4AHEAVwBsAGgATgBjADEARQB3AE4ARABsAFYATQBsAFoANQBaAEcAMQBzAGEAbABwAFkAVABYAE4AUgBNAEQAUQA1AFUAVABJADUAZABWAHAAdABiAEcANQBrAFcARQBwAG8AWgBFAGQAcwBkAG0ASgBwAGUARQBWAFIAZQBqAEYAcwBaAFUAaABTAE4AbABsAFkAVQBtAHAAWgBVADMAaABGAFUAWABvAHgAYgBtAEkAegBXAFgATgBTAFIAVQAwADUAWQBrAGMANQBhAGwAbABYAGQAeQA5AFoATQBFAFoARQBXAGwAaABLAE0ARwBGAFgAVwBuAEIAWgBNAGsAWQB3AFcAbABRADUAYQBWAGwAWQBUAG0AeABRAE0AagBsAHAAWQBXADEAVwBhAG0AUgBGAFQAbgBOAFoAVwBFADUANgBVAEYAZABPAGIARwBOAHUAVQBuAEIAYQBiAFcAeABxAFcAVgBoAFMAYwBHAEkAeQBOAFUASgBrAFcARgBKAHYAWQBqAE4ASwBjAEcAUgBJAGEAMwBkAEUAWgAxAGwARQBWAGwASQB3AFUARQBGAFIAUwBDADkAQwBRAFYARgBFAFEAVwBkAGwAUQBVADEARQBkADAAZABEAFUAMwBOAEgAUQBWAEYAUgBRAG0AZABxAFkAMQBaAEMAZAAxAEYAMgBUAFUATQB3AFIAMABwAFQAYwAwAGQAQgBVAFYARgBDAFoAMgBwAGoAVgBrAE4ASgBSADAAZAB4AFEAagBKAEYATQBGAEIAegBVADIAaAAxAE0AbQBSAEsAUwBXAFoAUABLADMAaAB1AFYASABkAEcAVgBtADEAbgBXAG4AcABaAFQARgBsAFEAYgBIAGgAVwBNAEUATgBCAFYAMQBGAEQAUQBWAEoAQgBkADAAaABSAFcAVQBSAFcAVQBqAEIAcwBRAGsASgBaAGQAMABaAEIAVwBVAGwATABkADEAbABDAFEAbABGAFYAUwBFAEYAMwBTAFUAZABEAFEAMwBOAEgAUQBWAEYAVgBSAGsASgAzAFQAVQBSAE4AUQAyAE4ASABRADEATgB6AFIAMABGAFIAVQBVAEoAbgBhAG0ATgBXAFEAMgBkAFIAWQBVADEAQwBaADMAZABEAFoAMQBsAEoAUwAzAGQAWgBRAGsASgBSAFYAVQBoAEIAZAAwAGwAMwBRADIAZABaAFMAVQB0ADMAVwBVAEoAQwBVAFYAVgBJAFEAWABkAE4AZAAwAE4AbgBXAFUAbABMAGIAMQBwAEoAZQBtAG8AdwBSAFUARgAzAFMAVQBSAFQAVQBVAEYAMwBVAG0AZABKAGEARQBGAFEAUgBUAEoAawBUAHoAbABSAGQAegBKAHkAVgAxAEIAcQBiAFUATgBuAGMAMwBKAEMAZQBFAGgAWQBVAG0AZABGAFYAawB0AG4AWQBYAEEANABUAG4ASQByAGIARQA1AG0AYgBEAEUAMwBkAG4ARQB4AFEAVwBsAEYAUQBXADUARwBWAHoAWgBGAEsAMgA1AHoAUQBXAHQASgBWADEASgBYAGUARwBWAEQAWgBtAEoAMwBWAFYAQQAyAFIAbgBaAFkAUwBFAEkAdwBiAFQASgByAFcARwBwAEYAUQBtAHgANQBLAHoASQB4AGIAbQBNADkAmA0AAE0ASQBJAEYARgBEAEMAQwBCAEwAbQBnAEEAdwBJAEIAQQBnAEkAVABlAEEAQQBBAE0AVgA1AE0AOAArAG0AcQBxAG0ARABLAFkAdwBBAEIAQQBBAEEAeABYAGoAQQBLAEIAZwBnAHEAaABrAGoATwBQAFEAUQBEAEEAagBCAGkATQBSAFUAdwBFAHcAWQBLAEMAWgBJAG0AaQBaAFAAeQBMAEcAUQBCAEcAUgBZAEYAYgBHADkAagBZAFcAdwB4AEUAegBBAFIAQgBnAG8ASgBrAGkAYQBKAGsALwBJAHMAWgBBAEUAWgBGAGcATgBuAGIAMwBZAHgARgB6AEEAVgBCAGcAbwBKAGsAaQBhAEoAawAvAEkAcwBaAEEARQBaAEYAZwBkAGwAZQBIAFIAbgBZAFgAcAAwAE0AUgBzAHcARwBRAFkARABWAFEAUQBEAEUAeABKAFEAUgBWAHAARgBTAFUANQBXAFQAMABsAEQAUgBWAE4ARABRAFQAUQB0AFEAMABFAHcASABoAGMATgBNAGoAUQB3AE0AVABJADUATQBUAEUAegBNAEQAQQAxAFcAaABjAE4ATQBqAFkAdwBNAFQASQA1AE0AVABFADAATQBEAEEAMQBXAGoAQgA4AE0AUQBzAHcAQwBRAFkARABWAFEAUQBHAEUAdwBKAFQAUQBUAEUAKwBNAEQAdwBHAEEAMQBVAEUAQwBoAE0AMQBUAFgAVgAwAFkAWABkAHAAWgBuAE0AZwBaAG0AOQB5AEkASABCAHAAYgBHAGQAeQBhAFcAMQB6AEkARwBaAHkAYgAyADAAZwBZAFcAWgB5AGEAVwBOAGgAYgBpAEIAdQBiADIANABnAFkAWABKAGgAWQBpAEIAagBiADMAVgB1AGQASABKAHAAWgBYAE0AeABGAGoAQQBVAEIAZwBOAFYAQgBBAHMAVABEAFUAMQBoAGEAMgB0AGgAYQBDAEIAaQBjAG0ARgB1AFkAMgBnAHgARgBUAEEAVABCAGcATgBWAEIAQQBNAFQARABFAEoAMQBhAFcAeABrAGEAVwA1AG4ATQB6AFUAegBOAEQAQgBXAE0AQgBBAEcAQgB5AHEARwBTAE0ANAA5AEEAZwBFAEcAQgBTAHUAQgBCAEEAQQBLAEEAMABJAEEAQgBQAEUAcQA5AFIAUgBNAGsAaABBAGgASABjAHAAZgBBAEMAaAByADgAWQA3AEoALwBYAC8AOQBrAGIAcABoADcANQBFADYASwBYADUAeABRAE0AYwBiAGgAeABpAC8AVQA4ADQANABtAEQAMwB0AHMASQByADIARABwAFIAUgB1AFIAYwB6AGEAegA5AG4AMQBvAHMARABDAFYAQgB5AFQANgBOAFEARQB4AEsAagBnAGcATQAxAE0ASQBJAEQATQBUAEMAQgBuAHcAWQBEAFYAUgAwAFIAQgBJAEcAWABNAEkARwBVAHAASQBHAFIATQBJAEcATwBNAFMAWQB3AEoAQQBZAEQAVgBRAFEARQBEAEIAMAB4AEwAVQBGAHMAYgBXAEYANgBaAFcAVgBrAGYARABJAHQAVgBqAEUAeQBmAEQATQB0AGMAMgBNAHgATgBUAFEAMABNAHoATQB6AE4AagBFAGYATQBCADAARwBDAGcAbQBTAEoAbwBtAFQAOABpAHgAawBBAFEARQBNAEQAegBNAHgATQBEAEUANABOAGoATQA1AE8ARABNAHcATQBEAEEAdwBNAHoARQBOAE0AQQBzAEcAQQAxAFUARQBEAEEAdwBFAE0AVABFAHcATQBEAEUAaABNAEIAOABHAEEAMQBVAEUARwBnAHcAWQBVADIAOQAxAGMAUwBCAEIAYgBDAEIASQBaAFcAcABoAGUAaQBCAFQAZABDAHcAZwBUAFcARgByAGEAMgBGAG8ATQBSAEUAdwBEAHcAWQBEAFYAUQBRAFAARABBAGgAUQBhAFcAeABuAGMAbQBsAHQAYwB6AEEAZABCAGcATgBWAEgAUQA0AEUARgBnAFEAVQB3AFkASQArAGUAWQBkAEEAZgBRAFAAdwBpACsAUgBMAFIARwBlAGgAcQBzAE8ATABaAFUAQQB3AEgAdwBZAEQAVgBSADAAagBCAEIAZwB3AEYAbwBBAFUAeAA4AEQAbQB0ADYAbgBkAEUAcwBwAFAAUABXADEAbwBnAHAAWQBoAFIAZgBNAEIAZABhAFEAdwBnAGUAVQBHAEEAMQBVAGQASAB3AFMAQgAzAFQAQwBCADIAagBDAEIAMQA2AEMAQgAxAEsAQwBCADAAWQBhAEIAegBtAHgAawBZAFgAQQA2AEwAeQA4AHYAUQAwADQAOQBVAEUAVgBhAFIAVQBsAE8AVgBrADkASgBRADAAVgBUAFEAMABFADAATABVAE4AQgBLAEQARQBwAEwARQBOAE8AUABWAEIAUwBXAGsAVgBKAFQAbABaAFAAUwBVAE4ARgBVAEUAdABKAE4AQwB4AEQAVABqADEARABSAEYAQQBzAFEAMAA0ADkAVQBIAFYAaQBiAEcAbABqAEoAVABJAHcAUwAyAFYANQBKAFQASQB3AFUAMgBWAHkAZABtAGwAagBaAFgATQBzAFEAMAA0ADkAVQAyAFYAeQBkAG0AbABqAFoAWABNAHMAUQAwADQAOQBRADIAOQB1AFoAbQBsAG4AZABYAEoAaABkAEcAbAB2AGIAaQB4AEUAUQB6ADEAbABlAEgAUgA2AFkAWABSAGoAWQBTAHgARQBRAHoAMQBuAGIAMwBZAHMAUgBFAE0AOQBiAEcAOQBqAFkAVwB3AC8AWQAyAFYAeQBkAEcAbABtAGEAVwBOAGgAZABHAFYAUwBaAFgAWgB2AFkAMgBGADAAYQBXADkAdQBUAEcAbAB6AGQARAA5AGkAWQBYAE4AbABQADIAOQBpAGEAbQBWAGoAZABFAE4AcwBZAFgATgB6AFAAVwBOAFMAVABFAFIAcABjADMAUgB5AGEAVwBKADEAZABHAGwAdgBiAGwAQgB2AGEAVwA1ADAATQBJAEgATwBCAGcAZwByAEIAZwBFAEYAQgBRAGMAQgBBAFEAUwBCAHcAVABDAEIAdgBqAEMAQgB1AHcAWQBJAEsAdwBZAEIAQgBRAFUASABNAEEASwBHAGcAYQA1AHMAWgBHAEYAdwBPAGkAOAB2AEwAMABOAE8AUABWAEIARgBXAGsAVgBKAFQAbABaAFAAUwBVAE4ARgBVADAATgBCAE4AQwAxAEQAUQBTAHgARABUAGoAMQBCAFMAVQBFAHMAUQAwADQAOQBVAEgAVgBpAGIARwBsAGoASgBUAEkAdwBTADIAVgA1AEoAVABJAHcAVQAyAFYAeQBkAG0AbABqAFoAWABNAHMAUQAwADQAOQBVADIAVgB5AGQAbQBsAGoAWgBYAE0AcwBRADAANAA5AFEAMgA5AHUAWgBtAGwAbgBkAFgASgBoAGQARwBsAHYAYgBpAHgARQBRAHoAMQBsAGUASABSADYAWQBYAFIAagBZAFMAeABFAFEAegAxAG4AYgAzAFkAcwBSAEUATQA5AGIARwA5AGoAWQBXAHcALwBZADAARgBEAFoAWABKADAAYQBXAFoAcABZADIARgAwAFoAVAA5AGkAWQBYAE4AbABQADIAOQBpAGEAbQBWAGoAZABFAE4AcwBZAFgATgB6AFAAVwBOAGwAYwBuAFIAcABaAG0AbABqAFkAWABSAHAAYgAyADUAQgBkAFgAUgBvAGIAMwBKAHAAZABIAGsAdwBEAGcAWQBEAFYAUgAwAFAAQQBRAEgALwBCAEEAUQBEAEEAZwBlAEEATQBEAHcARwBDAFMAcwBHAEEAUQBRAEIAZwBqAGMAVgBCAHcAUQB2AE0AQwAwAEcASgBTAHMARwBBAFEAUQBCAGcAagBjAFYAQwBJAEcARwBxAEIAMgBFADAAUABzAFMAaAB1ADIAZABKAEkAZgBPACsAeABuAFQAdwBGAFYAbQBnAFoAegBZAEwAWQBQAGwAeABWADAAQwBBAFcAUQBDAEEAUgBBAHcASABRAFkARABWAFIAMABsAEIAQgBZAHcARgBBAFkASQBLAHcAWQBCAEIAUQBVAEgAQQB3AEkARwBDAEMAcwBHAEEAUQBVAEYAQgB3AE0ARABNAEMAYwBHAEMAUwBzAEcAQQBRAFEAQgBnAGoAYwBWAEMAZwBRAGEATQBCAGcAdwBDAGcAWQBJAEsAdwBZAEIAQgBRAFUASABBAHcASQB3AEMAZwBZAEkASwB3AFkAQgBCAFEAVQBIAEEAdwBNAHcAQwBnAFkASQBLAG8AWgBJAHoAagAwAEUAQQB3AEkARABTAFEAQQB3AFIAZwBJAGgAQQBQAEUAMgBkAE8AOQBRAHcAMgByAFcAUABqAG0AQwBnAHMAcgBCAHgASABYAFIAZwBFAFYASwBnAGEAcAA4AE4AcgArAGwATgBmAGwAMQA3AHYAcQAxAEEAaQBFAEEAbgBGAFcANgBFACsAbgBzAEEAawBJAFcAUgBXAHgAZQBDAGYAYgB3AFUAUAA2AEYAdgBYAEgAQgAwAG0AMgBrAFgAagBFAEIAbAB5ACsAMgAxAG4AYwA9AFgAAABJAFoAVABHAHkAVAB4AE4AeABHACsAMwBiAE8AMwA1AEIATgBVAFkAMwBhADEAMQA0AGIAdgBZAGMAWQBMAEQAdABhAHMAQQBvAEwAaABCAGEARQA4AD0AcAgAAEwAUwAwAHQATABTADEAQwBSAFUAZABKAFQAaQBCAEQAUgBWAEoAVQBTAFUAWgBKAFEAMABGAFUAUgBTAEIAUwBSAFYARgBWAFIAVgBOAFUATABTADAAdABMAFMAMABOAEMAawAxAEoAUwBVAE4ARgBhAGsATgBEAFEAVwBKAG4AUQAwAEYAUgBRAFgAZABtAFIARQBWAE0AVABVAEYAcgBSADAARQB4AFYAVQBWAEMAYQBFADEARABWAFQAQgBGAGUARQBaAHEAUQBWAFYAQwBaADAANQBXAFEAawBGAHoAVABVAFIAVgBNAFcAaABoAE0AbgBSAG8AWQBVAE4AQwBhAFcATgB0AFIAbgBVAE4AQwBsAGsAeQBaADMAaABRAGEAawBFADQAUQBtAGQATwBWAGsASgBCAGIAMAAxAE8AVgBUAEUAeABaAEUAZABHAE0AMgBGAFgAVwBuAHAASgBSADEAcAAyAFkAMgBsAEMAZAAyAEYAWABlAEcANQBqAGIAVwB4ADAAWQAzAGwAQwBiAFcATgB0AE8AWABSAEoAUgAwAFoAdABZADIAMQBzAGEAbABsAFgATgBHAGMATgBDAG0ASgB0AE8AWABWAEoAUgAwAFoANQBXAFYAZABKAFoAMQBrAHkATwBUAEYAaQBiAGwASgA1AFkAVgBkAFcAZQBrADEAUwBWAFgAZABGAGQAMQBsAEUAVgBsAEYAUgBSAEUAUgBCAGUARQBOAGsAVgAyAHgAegBXAGsAZABzAGQAVgBwADYAVABUAEYATgBlAGwARgAzAFYAbQBwAEIAVQBVAEoAbgBZADMARQBOAEMAbQBoAHIAYQBrADkAUQBVAFUAbABDAFEAbQBkAFYAYwBtAGQAUgBVAFUARgBEAFoAMAA1AEQAUQBVAEYAVQBlAEUAdAAyAFYAVgBWAFUAUwBrAGwAUgBTAFYASQB6AFMAMQBoADMAUQBXADkAaABMADAAZABQAGUAVwBZAHgATAB5ADkAYQBSAHoAWgBaAFoAUwB0AFMAVAAyAGwAcwBLADIATgBWAFIARQBnAE4AQwBrAGMAMABZADEAbAAyAE0AVgBCAFAAVAAwAHAAbgBPAFQAZABpAFEAMABzADUAWgB6AFoAVgBWAFcASgByAFcARQAwAHkAYwB5ADkAYQBPAFcARgBNAFEAWABkAHMAVQBXAE4AcgBLADIAcABWAFEAawAxAFQAYgAwAGwASQBZADAAMQBKAFMARgBwAEMAWgAyAHQAeABhAEcAdABwAFIAegBsADMATQBFAEkATgBDAGsATgBSAE4ASABoAG4AWQAzAE4AMwBaADIATgBuAGQAMABwAEIAVwBVAHAATABkADEAbABDAFEAawBGAEgAUQAwADUANABVAFUATgBDAFEAbQBOAFUAUgBsAFoAQwBVADEASgBXAGMARQBKAFcAUgBVADUAQwBUAEYAVgBPAGQAbABwAEgAVgBYAFIAVgBNAG0AeAB1AFkAbQAxAHMAZABWAHAANgBRADAASQBOAEMAbQA1ADMAVwBVAFIAVwBVAGoAQgBTAFEAawBsAEgAVwBFADEASgBSADEAVgB3AFMAVQBkAFMAVABVAGwASABUADAAMQBUAFcAWABkAEsAUQBWAGwARQBWAGwARgBSAFIAVQBSAEMATQBIAGgATQBWAFUAWgB6AFkAbABkAEcATgBsAHAAWABWAG0AdABtAFIARQBsADAAVgBtAHAARgBlAFcAWgBFAFQAWABRAE4AQwBtAE0AeQBUAFgAaABPAFYARgBFAHcAVABYAHAATgBlAGsANQBxAFIAVwBaAE4AUQBqAEIASABRADIAZAB0AFUAMABwAHYAYgBWAFEANABhAFgAaAByAFEAVgBGAEYAVABVAFIANgBUAFgAaABOAFIARQBVADAAVABtAHAATgBOAFUAOQBFAFQAWABkAE4AUgBFAEYAMwBUAFgAcABGAFQAawAxAEIAYwAwAGMATgBDAGsARQB4AFYAVQBWAEUAUQBYAGQARgBUAFYAUgBGAGQAMAAxAEUAUgBXAGgATgBRAGoAaABIAFEAVABGAFYAUgBVAGQAbgBkADEAbABWAE0AagBrAHgAWQAxAE4AQwBRAG0ASgBEAFEAawBsAGEAVgAzAEIAbwBaAFcAbABDAFYARwBSAEQAZAAyAGQAVQBWADAAWgB5AFkAVABKAEcAYgAwADEAUwBSAFgAYwBOAEMAawBSADMAVwBVAFIAVwBVAFYARgBRAFIARQBGAG8AVQBXAEYAWABlAEcANQBqAGIAVwB4ADAAWQAzAHAAQgBTADAASgBuAFoAMwBGAG8AYQAyAHAAUABVAEYARgBSAFIARQBGAG4AVABrAGwAQgBSAEUASgBHAFEAVwBsAEYAUQBUAEIANQBVAG0AcABVAFMAVABKADUAYQB6AGgAUgBVADIAcAByAFUARABrAE4AQwBqAFIASgBNADIAOQBMAFoAMgB0AEgAVgBXADEAVQBPAFYAQgA2AE8ARABGAEIAYwBtAGwAcABaAFgAWgA1AFMAUwA5AG0AUwBVAE4ASgBRAFUAeAB4AE8AVQA1AEkAWgBGAFIASQBOAEcASgBEAGQAVQBsADAAYgBEAGMAcgBkAGwAVgBDAFcAawBKAGkAWQBUAGQAMwBaADAAVgB2AFQAMgA5AHkAVQBqAEUATgBDAG4AaAAxAFcAVwBaAHMAZABFAE4AdABEAFEAbwB0AEwAUwAwAHQATABVAFYATwBSAEMAQgBEAFIAVgBKAFUAUwBVAFoASgBRADAARgBVAFIAUwBCAFMAUgBWAEYAVgBSAFYATgBVAEwAUwAwAHQATABTADAATgBDAGcAPQA9AB4AAAAzADEAMAAxADgANgAzADkAOAAzADAAMAAwADAAMwAAAAAA";



$bill = new ZBill();
$bill->billType = ZBillType::invoice;
// $bill->billType = ZBillType::creditNote;
// $bill->billType = ZBillType::debitNote;

$bill->referenceNumber = "1-25-sell";
$bill->uuid = "C8CE8A13-D0F5-40B7-9CD1-3BD323A6C4F7";

$bill->time = new DateTime();//"2025-03-15 18:06:02"

$bill->currency = "SAR";
$bill->currencyToSAR = 1;
$bill->isSimplified = true;

$bill->sellerInfo->name = "الزهور";
$bill->sellerInfo->id = "151001111111113"; //السجل التجاري
$bill->sellerInfo->idType = "CRN";

//العنوان الوطني الموحد
$bill->sellerInfo->country = "SA";
$bill->sellerInfo->cityName = "الرياض | Riyadh";
$bill->sellerInfo->citySubdivisionName = "الرياض";
$bill->sellerInfo->postalZone = "23333";
$bill->sellerInfo->street = "الامير سلطان";
$bill->sellerInfo->plotIdentification = "2223"; //الرقم الاضافي
$bill->sellerInfo->buildingNumber = "2322";//رقم المبنى

$bill->buyerInfo->name = "عامر";
$bill->buyerInfo->country = "SA";

if (!$bill->isSimplified) // standard
{
    $bill->buyerInfo->id = "151001111111113"; //السجل التجاري
    $bill->buyerInfo->idType = "CRN";
    $bill->buyerInfo->vatID = "311334506711103";

    $bill->buyerInfo->cityName = "الرياض";
    $bill->buyerInfo->citySubdivisionName = "الرياض";
    $bill->buyerInfo->postalZone = "23333";
    $bill->buyerInfo->street = "street 16";
    $bill->buyerInfo->plotIdentification = "2223";
    $bill->buyerInfo->buildingNumber = "2322";
}

$bill->items[] = new ZBillItem("pen", "pce", 2, 3, 1.5, "discount", "95", ZVatCategory::standard, 15);
// ZVatCategory::zero;
// ZVatCategory::excempt;
// ZVatCategory::outOfScope;
$bill->discounts[] = new ZBillDiscount(1, "mgkj", ZVatCategory::standard, 15);
$bill->additions[] = new ZBillAddition(1, "jnsdkjk", "AA", ZVatCategory::standard, 15);

$res = sendBill($bill, $onboardingData, "", 1);
echo $res->status . "\n";
echo $res->errorMessage . "\n";
echo $res->hash . "\n";
echo $res->qr . "<br>";
echo $res->invoice . "\n";
?>